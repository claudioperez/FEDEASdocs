<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://claudioperez.github.io/FEDEASdocs/Pages/Basic/basic_03/">
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>Data Organization - FEDEASLab</title>
        <link href="../../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <link href="../../../_static/css/extra.css" rel="stylesheet">


        <script src="../../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/matlab.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <!-- <script>
            $(".nav .nav-link").on("click", function(){
            $(".nav").find(".active").removeClass("active");
            $(this).addClass("active");
         });
         </script> -->


        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-170527070-1', 'auto');
            ga('send', 'pageview');
        </script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../../..">FEDEASLab</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav ml-auto">
                        <!--<ul class="nav navbar-nav">-->
                            <li class="navitem">
                                <a href="../../../About/" class="nav-link">About</a>
                            </li>
                            <li class="navitem">
                                <a href="../../" class="nav-link">Pages</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../Functions/latest/" class="nav-link">Functions</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../Gallery/" class="nav-link">Gallery</a>
                            </li>
                        <!--</ul>-->
                        <!--</div>-->

                    <!-- <ul class="nav navbar-nav ml-auto"> -->
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#elstir_search_modal">
                               <!--<img src="img/search.png" class="icon">--> <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="container">
            
            <!-- <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                  <li class="breadcrumb-item"><a href="#">Home</a></li>
                  <li class="breadcrumb-item"><a href="#">Library</a></li>
                  <li class="breadcrumb-item active" aria-current="page">Data</li>
                </ol>
            </nav> -->
            
            <div class="row">
                    
                        <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>
    
    <div id="toc-collapse" class="navbar-collapse collapse card ">
        <ul class="nav flex-column">
        
        
        </ul>
    </div>
</div></div>
                    

                    
                        <article class="col-md-9 p-3">
                        <!-- <article class="col-md-9"> -->
                        

<h1 id="data-organization">Data Organization</h1>
<p>The initial set of analysis functions for the concepts of an introductory course on structural analysis is built around two data structures: [data:Model]  for the geometric description of the structural model, and [data:Data]  for the element and material properties and element loading, as is evident from the input argument list of the functions in <span class="citation" data-cites="tbl:StructMat">[@tbl:StructMat]</span>-<span class="citation" data-cites="tbl:GraphUtil">[@tbl:GraphUtil]</span>. The organization of structural model information in two data structures serves to emphasize the concept of the introductory structural analysis course that, under linear conditions, the governing static and kinematic relations depend only on the geometry of the structural model and not on any element properties. Accordingly, the functions [func:B_matrix] for setting up the <strong>linear</strong> equilibrium matrix <span class="math inline">\(\mathbf{B}\)</span> and [func:A_matrix] for setting up the <strong>linear</strong> kinematic matrix <span class="math inline">\(\mathbf{A}\)</span> of the structure take as single input argument the data structure [data:Model] with model geometry information.</p>
<h2 id="data-structure-datamodel">Data Structure [data:Model]</h2>
<p>In [FEDEASlab] information about the structural model is collected in the data structure [data:Model] , which is set up by the function [func:Create_SimpleModel] from information supplied by the user. The function [func:Create_SimpleModel] is limited to models consisting of 2-node, 2d or 3d truss and frame elements. The function numbers the degrees of freedom (DOFs) of the structure, as discussed in the course reader, thus facilitating their identification for small structural models. With this degree of freedom (DOF) numbering the analysis functions set up <strong>full</strong> matrices that do not take advantage of the small number of non-zero terms in large structural models. The general model creation function [func:Create_Model] does not have limitations on element type and uses a DOF numbering scheme that minimizes the storage of structure matrices. The use of sparse matrices with minimum storage is essential for the analysis of large structural models with 2d and 3d finite elements.</p>
<figure>
<img src="Function_Code/Ex4_1F1.png" id="fig:ModelInp" width="0" alt="Specification of model geometry for plane truss in script file Ex3_1.m" /><figcaption aria-hidden="true">Specification of model geometry for plane truss in script file Ex3_1.m</figcaption>
</figure>
<div class="sourceCode" id="cb1" data-include="docs/Pages/Basic/Function_Code/Ex4_1.m" data-startLine="38" data-endLine="56"><pre class="sourceCode matlab"><code class="sourceCode matlab"></code></pre></div>
<p><span class="citation" data-cites="fig:ModelInp">[@fig:ModelInp]</span> shows the input data for the structure of [B-X:StatDetTruss] in the form of numerical arrays <code>XYZ</code>, <code>BOUN</code>, and <code>CON</code>. The rows of <code>XYZ</code> correspond to the nodes and the <span class="math inline">\(ndm\)</span> columns to the node coordinates, where <span class="math inline">\(ndm\)</span> is the dimension of the structural model. The rows of <code>BOUN</code> also correspond to the nodes and the <span class="math inline">\(ndf\)</span> columns to node restraint switches, where <span class="math inline">\(ndf\)</span> is the maximum number of DOFs per node for the model. The DOF order for each node is: 1 = force in <span class="math inline">\(X\)</span>, 2 = force in <span class="math inline">\(Y\)</span>, 3 = moment about <span class="math inline">\(Z\)</span> (for 2d model), or force in <span class="math inline">\(Z\)</span> (for 3d model), 4,5,6 = moment about <span class="math inline">\(X\)</span>, <span class="math inline">\(Y\)</span> and <span class="math inline">\(Z\)</span>, respectively (for 3d model). The switch value 0 indicates a free and the value 1 a restrained DOF. <code>CON</code> can be a numerical array for a structural model with only 2-node elements. For finite element models with elements having a different number of nodes, <code>CON</code> needs to be specified as a <strong>cell array</strong> so that the row contents can vary from element to element. Each row of the numerical <code>CON</code> array contains the node numbers to which the corresponding element connects. Finally, <code>ElemName</code> is a <strong>cell array</strong> that accommodates element names with a different number of characters. The names <code>'Truss'</code> and <code>'2dFrm'</code> suffice for tasks that do not require element and material properties. For tasks requiring element and material properties the element names need to be <code>'LinTruss'</code>, <code>'Lin2dFrm'</code>, and <code>'Lin3dFrm'</code> for the 2d/3d truss, the 2d frame, and the 3d frame element, respectively.</p>
<p>At the start of each input script the command <code>CleanStart</code> issues two MATLAB  commands, one for clearing the computer memory of all stored variable values (<code>clearvars</code>), and the second for closing any open figure windows (<code class="sourceCode matlab"><span class="va">close</span> <span class="va">all</span></code>). It may also be expedient to include the call to the function <code>Create_Units</code> at the start of each script, so as to take advantage of the unit definitions in the return argument <code>Units</code> and obviate the need for unit conversion in the values of variables with different units.</p>
<p>The command</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode matlab"><code class="sourceCode matlab"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="va">Model</span> <span class="op">=</span> <span class="va">Create_SimpleModel</span>(<span class="va">XYZ</span><span class="op">,</span><span class="va">CON</span><span class="op">,</span><span class="va">BOUN</span><span class="op">,</span><span class="va">ElemName</span>)</span></code></pre></div>
<p>generates the data structure [data:Model] . Once <code>Model</code> is created its contents can be displayed by executing <code class="sourceCode matlab"><span class="va">disp</span>(<span class="va">Model</span>)</code>.</p>
<div class="MLbox">
<div class="sourceCode" id="cb3" data-include="&quot;docs/Pages/Basic/Function_Code/Ex2_1a.m" data-startLine="1" data-endLine="14"><pre class="sourceCode matlab"><code class="sourceCode matlab"></code></pre></div>
</div>
<p>[B:ModelCont] shows the fields and some of their contents for the data structure [data:Model]  of the truss in <span class="citation" data-cites="F:ModelInp">[@F:ModelInp]</span>: <span class="math inline">\(nn\)</span> is the number of nodes of the structural model, <span class="math inline">\(ndm\)</span> the model dimension, <code>XYZ</code> the node coordinate array, <span class="math inline">\(ne\)</span> the number of elements, <code>CON</code> a cell array of element connectivity with the row number corresponding to the element number (by conversion of the numerical array <code>CON</code> supplied as input argument), <span class="math inline">\(nq\)</span> the number of basic forces in each element, <span class="math inline">\(ndf\)</span> the number of local DOFs/node and <span class="math inline">\(nen\)</span> the number of end nodes of each element, <code>ElemName</code> the cell array of element types, <span class="math inline">\(nt\)</span> the total number of DOFs, <code>BOUN</code> the array of node restraint switches, <span class="math inline">\(nf\)</span> the number of free DOFs, and <code>DOF</code> the global DOF numbering array. Typing <code>Model</code> or <code>disp(Model)</code> at the command prompt only shows contents of scalar fields of [data:Model]  and numeric or cell arrays that can be displayed in a single line, as [B:ModelCont] shows (numeric arrays have <code>[ ]</code> delimiters and cell arrays have <code>{ }</code> delimiters in MATLAB ). To display the contents of fields of other array types, type the data structure name and the field name separated by a period as input argument to the MATLAB  function <code>disp</code> to avoid echoing the variable name:</p>
<div class="flushleft">
<p><code>Model.XYZ</code> for node coordinates</p>
<div class="sourceCode" id="cb4" data-startLine="15" data-endLine="19"><pre class="sourceCode matlab"><code class="sourceCode matlab"></code></pre></div>
</div>
<div class="sourceCode" id="cb5" data-startLine="20" data-endLine="24" data-caption="`Model.BOUN` for node restraint switches"><pre class="sourceCode matlab"><code class="sourceCode matlab"></code></pre></div>
<div class="flushleft">
<p><code>Model.DOF</code> for global DOF numbering</p>
<div class="sourceCode" id="cb6" data-startLine="25" data-endLine="29"><pre class="sourceCode matlab"><code class="sourceCode matlab"></code></pre></div>
</div>
<h2 id="sec:Data">Data Structure [data:Data] for Element Properties and Loading</h2>
<p>[data:Data]  is the second data structure of [FEDEASlab] after [data:Model] . It is specified entirely by the user. Because the element property data vary from element to element, it is necessary to use a cell array for [data:Data]  so that the array contents can vary from element to element. [data:Data]  is a one dimensional cell array with the row number corresponding to the element number. It has the fields in <span class="citation" data-cites="tbl:ElDatafields">[@tbl:ElDatafields]</span> with optional fields with default value 0 shown in parentheses.</p>
<table>
<caption>[data:Data] fields (optional fields with default value 0 in parentheses) {#tbl:ElDatafields}</caption>
<thead>
<tr class="header">
<th style="text-align: center;">Field</th>
<th style="text-align: left;"> Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>E</code>  </td>
<td style="text-align: left;">elastic material modulus (scalar)</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>A</code>  </td>
<td style="text-align: left;">cross section area (scalar)</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>I</code>  </td>
<td style="text-align: left;">moment of inertia (scalar) (2d frame only)</td>
</tr>
<tr class="even">
<td style="text-align: center;"> (<code>Release</code>)    </td>
<td style="text-align: left;">3x1 vector of release codes; 0=continuous, 1=release (2d frame only)  </td>
</tr>
<tr class="odd">
<td style="text-align: center;">(<code>w</code>)  </td>
<td style="text-align: left;">uniform element load, 2x1 vector with <span class="math inline">\(w_x\)</span> and <span class="math inline">\(w_y\)</span> (2d frame only)</td>
</tr>
<tr class="even">
<td style="text-align: center;">(<code>e0</code>)  </td>
<td style="text-align: left;">non-mechanical effects, 2x1 vector with <span class="math inline">\(\varepsilon_0\)</span> and <span class="math inline">\(\kappa_0\)</span> (2d frame only)</td>
</tr>
<tr class="odd">
<td style="text-align: center;">(<code>q0</code>)  </td>
<td style="text-align: left;">initial prestressing force (scalar) (truss only)</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>Np</code>  </td>
<td style="text-align: left;">plastic axial capacity (scalar)</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>Mp</code>  </td>
<td style="text-align: left;">plastic flexural capacity (scalar) (2d frame only)</td>
</tr>
</tbody>
</table>
<p><span class="citation" data-cites="tbl:ElDatafields">[@tbl:ElDatafields]</span> shows that [data:Data] includes a field <code>Np</code> for the plastic axial capacity and a field <code>Mp</code> for the plastic flexural capacity. <em>These are only required for the plastic analysis of large structural models</em>. Otherwise, the plastic capacities of the elements may be directly specified with vector <span class="math inline">\(\boldsymbol{Q}_{pl}\)</span>, as discussed later in this chapter.</p>
<div class="MLbox">
<div class="sourceCode" id="cb7" data-include="docs/Pages/Basic/Function_Code/Localize.m" data-rulecolor="\color{red}" data-startLine="1" data-endLine="1"><pre class="sourceCode matlab"><code class="sourceCode matlab"></code></pre></div>
<div class="sourceCode" id="cb8" data-include="docs/Pages/Basic/Function_Code/Localize.m" data-startLine="15" data-endLine="29"><pre class="sourceCode matlab"><code class="sourceCode matlab"></code></pre></div>
</div>
<div class="MLbox">
<div class="sourceCode" id="cb9" data-include="docs/Pages/Basic/Function_Code/ElmLenOr.m" data-rulecolor="\color{red}" data-startLine="1" data-endLine="1"><pre class="sourceCode matlab"><code class="sourceCode matlab"></code></pre></div>
<div class="sourceCode" id="cb10" data-include="docs/Pages/Basic/Function_Code/ElmLenOr.m" data-startLine="16" data-endLine="21"><pre class="sourceCode matlab"><code class="sourceCode matlab"></code></pre></div>
</div>

                        
                        </article>
                        <!-- <div class="col-md-8" role="main"></div> -->
                    
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>&copy 1998-2021 UC Regents, Filip C. Filippou</p>
        </footer>
        <script>
            var base_url = "../../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../../js/base.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" defer></script>
        <script src="../../../search/main.js" defer></script>

        <div class="modal" id="elstir_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="elstir-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="elstir-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="elstir_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
