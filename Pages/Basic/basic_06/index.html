<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://claudioperez.github.io/FEDEASdocs/Pages/Basic/basic_06/">
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>Structural Kinematics - FEDEASLab</title>
        <link href="../../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <link href="../../../_static/css/extra.css" rel="stylesheet">


        <script src="../../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/matlab.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <!-- <script>
            $(".nav .nav-link").on("click", function(){
            $(".nav").find(".active").removeClass("active");
            $(this).addClass("active");
         });
         </script> -->


        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-170527070-1', 'auto');
            ga('send', 'pageview');
        </script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../../..">FEDEASLab</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav ml-auto">
                        <!--<ul class="nav navbar-nav">-->
                            <li class="navitem">
                                <a href="../../../About/" class="nav-link">About</a>
                            </li>
                            <li class="navitem">
                                <a href="../../" class="nav-link">Pages</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../Functions/latest/" class="nav-link">Functions</a>
                            </li>
                            <li class="navitem">
                                <a href="../../../Gallery/" class="nav-link">Gallery</a>
                            </li>
                        <!--</ul>-->
                        <!--</div>-->

                    <!-- <ul class="nav navbar-nav ml-auto"> -->
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#elstir_search_modal">
                               <!--<img src="img/search.png" class="icon">--> <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="container">
            
            <!-- <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                  <li class="breadcrumb-item"><a href="#">Home</a></li>
                  <li class="breadcrumb-item"><a href="#">Library</a></li>
                  <li class="breadcrumb-item active" aria-current="page">Data</li>
                </ol>
            </nav> -->
            
            <div class="row">
                    
                        <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>
    
    <div id="toc-collapse" class="navbar-collapse collapse card ">
        <ul class="nav flex-column">
        
        
        </ul>
    </div>
</div></div>
                    

                    
                        <article class="col-md-9 p-3">
                        <!-- <article class="col-md-9"> -->
                        

<h1 id="structural-kinematics">Structural Kinematics</h1>
<p>The structural kinematic relations in [B-E:VAfUf] relate the element deformations <span class="math inline">\(\boldsymbol{V}\)</span> to the free global DOF displacements <span class="math inline">\(\boldsymbol{U}_f\)</span> through the kinematic matrix <span class="math inline">\(\mathbf{A}_f\)</span> of the structure. With a given set of <strong>compatible</strong> element deformations <span class="math inline">\(\boldsymbol{V}\)</span> the solution of the kinematic relations in [B-E:VAfUf] gives the values of the free DOF displacements <span class="math inline">\(\boldsymbol{U}_f\)</span>. This approach to the determination of the free DOF displacements is of particular interest for statically determinate structures, for which the number of element deformations is equal to the number of unknown free DOF displacements, so that the element deformations are not constrained by compatibility conditions, as the examples of [B-C:Kinematics] demonstrate.</p>
<h2 id="assembly-of-kinematic-matrix-mathbfa">Assembly of Kinematic Matrix <span class="math inline">\(\mathbf{A}\)</span></h2>
<p>Because <span class="math inline">\(\mathbf{A}_f^T=\mathbf{B}_f\)</span> according to the principle of virtual work, it is not necessary to create separate functions for setting up the equilibrium matrix <span class="math inline">\(\mathbf{B}\)</span> and the kinematic matrix <span class="math inline">\(\mathbf{A}\)</span>. Nonetheless, [FEDEASlab] has two separate functions in the interest of completeness.</p>
<p>The assembly of the kinematic matrix <span class="math inline">\(\mathbf{A}\)</span> is completely analogous to that of the equilibrium matrix <span class="math inline">\(\mathbf{B}\)</span> and the corresponding functions practically identical. Nonetheless, a brief description of the process is given in the following.</p>
<p>The assembly of the kinematic matrix <span class="math inline">\(\mathbf{A}\)</span> of the structural model in [B-S:AfAssembly] involves the determination of the kinematic matrix <span class="math inline">\(\mathbf{a}_g\)</span> of each element and the re-assignment of the columns of <span class="math inline">\(\mathbf{a}_g\)</span> to the columns of <span class="math inline">\(\mathbf{A}\)</span> based on the local-global DOF number correspondence in accordance with the <span class="math inline">\(\boldsymbol{id}\)</span> array of the element. The kinematic matrix <span class="math inline">\(\mathbf{a}_g\)</span> of each element is set up according to [B-E:vagu], [B-E:v2dtruss], or [B-E:v3dtruss] for 2d frame, 2d truss and 3d truss, respectively, and requires the element length <span class="math inline">\(L\)</span> and the <span class="math inline">\(x\)</span>-axis orientation in the form of the direction cosines, as discussed for the equilibrium matrix <span class="math inline">\(\mathbf{b}_g\)</span> in <span class="citation" data-cites="sec:FLBfAssembly"><a href="#ref-sec:FLBfAssembly" role="doc-biblioref"><strong>sec:FLBfAssembly?</strong></a></span>.</p>
<div class="MLbox">
<div class="sourceCode" id="lst:Amatimpl" data-rulecolor="\color{red}" data-startLine="1" data-endLine="1"><pre class="sourceCode matlab"><code class="sourceCode matlab"></code></pre></div>
<div class="sourceCode" id="cb1" data-startFrom="21"><pre class="sourceCode matlab"><code class="sourceCode matlab" style="counter-reset: source-line 20;"><span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="va">ne</span> <span class="op">=</span> <span class="va">Model</span>.<span class="va">ne</span><span class="op">;</span>           <span class="co">% number of elements in structural model                  </span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="va">k</span>  <span class="op">=</span> <span class="fl">0</span><span class="op">;</span>                  <span class="co">% initialize row index into matrix A</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="kw">for</span> <span class="va">el</span><span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="va">ne</span>              <span class="co">% loop over all elements                   </span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>   <span class="co">% locate element in Model and return end coordinates and id array</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>   [<span class="va">xyz</span><span class="op">,</span><span class="va">id</span>] <span class="op">=</span> <span class="va">Localize</span>(<span class="va">Model</span><span class="op">,</span><span class="va">el</span>)<span class="op">;</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>   <span class="co">% form element compatibility matrix ag</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>   <span class="va">ag</span> <span class="op">=</span> <span class="va">ag_matrix</span>(<span class="va">Model</span>.<span class="va">ElemName</span>{<span class="va">el</span>}<span class="op">,</span><span class="va">xyz</span>)<span class="op">;</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>   <span class="co">% assemble element compatibility matrix ag into structure matrix A</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>   <span class="va">nc</span> <span class="op">=</span> <span class="va">size</span>(<span class="va">ag</span><span class="op">,</span><span class="fl">1</span>)<span class="op">;</span>      <span class="co">% number of rows of matrix ag</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>   <span class="va">A</span>(<span class="va">k</span><span class="op">+</span><span class="fl">1</span><span class="op">:</span><span class="va">k</span><span class="op">+</span><span class="va">nc</span><span class="op">,</span><span class="va">id</span>) <span class="op">=</span> <span class="va">ag</span><span class="op">;</span>  <span class="co">% insert ag into location of matrix A</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>   <span class="va">k</span>  <span class="op">=</span> <span class="va">k</span><span class="op">+</span><span class="va">nc</span><span class="op">;</span>            <span class="co">% augment row index by number of rows in ag</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code></pre></div>
<div class="sourceCode" id="lst:agimpl" data-rulecolor="\color{red}" data-startFrom="35"><pre class="sourceCode matlab"><code class="sourceCode matlab" style="counter-reset: source-line 34;"><span id="lst:agimpl-35"><a href="#lst:agimpl-35" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="va">ag</span> <span class="op">=</span> <span class="va">ag_matrix</span>(<span class="va">ElemName</span><span class="op">,</span><span class="va">xyz</span>)</span></code></pre></div>
<div class="sourceCode" id="cb2" data-startFrom="39"><pre class="sourceCode matlab"><code class="sourceCode matlab" style="counter-reset: source-line 38;"><span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a><span class="co">% determine element length and orientation</span></span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>[<span class="va">L</span><span class="op">,</span><span class="va">dcx</span>] <span class="op">=</span> <span class="va">ElmLenOr</span>(<span class="va">xyz</span>)<span class="op">;</span></span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a><span class="kw">if</span> <span class="va">contains</span>(<span class="va">ElemName</span><span class="op">,</span><span class="ss">&#39;Truss&#39;</span>)</span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>   <span class="co">% truss element</span></span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a>   <span class="va">ag</span> <span class="op">=</span> [<span class="op">-</span><span class="va">dcx</span><span class="op">&#39;</span> <span class="va">dcx</span><span class="op">&#39;</span>]<span class="op">;</span></span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a><span class="kw">elseif</span> <span class="va">contains</span>(<span class="va">ElemName</span><span class="op">,</span><span class="ss">&#39;2dFrm&#39;</span>)</span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>   <span class="co">% 2d frame element</span></span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a>   <span class="va">dXL</span> <span class="op">=</span> <span class="va">dcx</span>(<span class="fl">1</span>)<span class="op">;</span></span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>   <span class="va">dYL</span> <span class="op">=</span> <span class="va">dcx</span>(<span class="fl">2</span>)<span class="op">;</span></span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>   <span class="va">ag</span>  <span class="op">=</span> [<span class="op">-</span><span class="va">dXL</span>     <span class="op">-</span><span class="va">dYL</span>     <span class="fl">0</span>   <span class="va">dXL</span>      <span class="va">dYL</span>      <span class="fl">0</span><span class="op">;</span></span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>          <span class="op">-</span><span class="va">dYL</span><span class="op">/</span><span class="va">L</span>    <span class="va">dXL</span><span class="op">/</span><span class="va">L</span>   <span class="fl">1</span>   <span class="va">dYL</span><span class="op">/</span><span class="va">L</span>   <span class="op">-</span><span class="va">dXL</span><span class="op">/</span><span class="va">L</span>    <span class="fl">0</span><span class="op">;</span></span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a>          <span class="op">-</span><span class="va">dYL</span><span class="op">/</span><span class="va">L</span>    <span class="va">dXL</span><span class="op">/</span><span class="va">L</span>   <span class="fl">0</span>   <span class="va">dYL</span><span class="op">/</span><span class="va">L</span>   <span class="op">-</span><span class="va">dXL</span><span class="op">/</span><span class="va">L</span>    <span class="fl">1</span>]<span class="op">;</span></span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a><span class="kw">else</span></span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a>   <span class="va">error</span> (<span class="ss">&#39;only truss and 2d frame elements supported&#39;</span>)</span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code></pre></div>
</div>
<p><span class="citation" data-cites="lst:Amatimpl"><a href="#ref-lst:Amatimpl" role="doc-biblioref"><strong>lst:Amatimpl?</strong></a></span> gives the syntax for function [func:A_matrix] . The function [func:A_matrix]  calls the internal function <code>ag_matrix</code> to set up the kinematic matrix <span class="math inline">\(\mathbf{a}_g\)</span> of each element according to [B-E:vagu], [B-E:v2dtruss], or [B-E:v3dtruss] for 2d frame, 2d truss and 3d truss, respectively. The function syntax is given in <span class="citation" data-cites="lst:agimpl"><a href="#ref-lst:agimpl" role="doc-biblioref"><strong>lst:agimpl?</strong></a></span>.</p>
<p>Because the data structure [data:Model]  does not have information about basic force releases, it is the user’s responsibility to remove the rows of the <span class="math inline">\(\mathbf{A}\)</span>-matrix corresponding to element ends with release deformations <span class="math inline">\(\boldsymbol{V}_h\)</span>. After setting up the complete kinematic matrix <span class="math inline">\(\mathbf{A}\)</span> for the structural model, the kinematic matrix <span class="math inline">\(\mathbf{A}_f\)</span> for the free DOFs corresponds to the first <span class="math inline">\(nf\)</span> columns of <span class="math inline">\(\mathbf{A}\)</span>. For a stable, statically determinate structure the kinematic matrix <span class="math inline">\(\mathbf{A}_f\)</span> is square with full rank. Given the element deformations <span class="math inline">\(\boldsymbol{V}\)</span>, a unique solution of the system of linear equations in [B-E:VAfUf] exists, resulting in the displacements <span class="math inline">\(\boldsymbol{U}_f\)</span> at the free DOFs of the structural model.</p>
<p>The excerpt from a MATLAB  script file in [B:TrussKinem] follows the input data for the plane truss of [B-X:KinDetTruss] and the command <code>Create_SimpleModel</code>. The element deformation vector <code>V0</code> is populated with zeroes. It has size equal to the total number of basic forces <code>sum(Model.nq)</code> for this model which does not have element releases. After specifying the non-zero values of the element deformations the solution of the kinematic relations in [B-E:VAfUf] gives the free DOF displacements <code>Uf</code>. The values are identical with those of [B-X:KinDetTruss] with the corresponding deformed shape in [B-F:KineTrEx2F8].</p>
<div class="MLbox">
<div class="sourceCode" id="lst:TrussKinem" data-caption="Determination of the free DOF displacements for the truss of @B-X:KinDetTruss"><pre class="sourceCode matlab"><code class="sourceCode matlab"></code></pre></div>
</div>

                        
                        </article>
                        <!-- <div class="col-md-8" role="main"></div> -->
                    
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>&copy 1998-2021 UC Regents, Filip C. Filippou</p>
        </footer>
        <script>
            var base_url = "../../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../../js/base.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" defer></script>
        <script src="../../../search/main.js" defer></script>

        <div class="modal" id="elstir_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="elstir-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="elstir-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="elstir_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
